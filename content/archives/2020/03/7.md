---
title: "#7 kafka-go recording"
date: 2020-03-23T16:38:02+08:00
draft: true
---



学习Kafka相关的Client的时候，发现了几个比较常见的Kafka的客户端。

简介：[Kafka-go](https://github.com/segmentio/kafka-go)  其 [v0.2.5](https://github.com/segmentio/kafka-go/releases/tag/v0.2.5) 就支持Go的1.12+以后的的版本。

> Compare with other clients

1. [sarama](https://github.com/Shopify/sarama)： 较流行，文档比较少，使用比较困难。不支持 `context.Context`对`goroutine`的管控。当`Values as Pointer`会导致大量的动态内存分配，垃圾回收频繁，高内存消耗。
2. [confluent-kafka-go](https://github.com/confluentinc/confluent-kafka-go)：目前归属于Apache下的Kafka Client，具有高性能，高可靠，支持混合的基于`cgo`的客户端。

----

下面记录的是Kafka-go的相关操作。

>Writer

	1. 这个支持 当报错时发送自动重试、自动重连。
 	2. 可配置的分布式消息到可用的Partitions.`实现了多种的balancer`
 	3. 支持同步或异步(可以使用context)写消息
 	4. 会优雅的‘关机’，将Producer的代写消息会落盘，体现可靠性。
 	5. TLS Supported



> Reader

// TODO 



> Produce



> Consume



> 总结